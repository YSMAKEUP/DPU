
<!--마이페이지-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 - Sweet Pickup</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .mypage-container {
            max-width: 800px;
            margin: 80px auto;
            padding: 40px;
        }

        .mypage-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .mypage-title {
            font-size: 32px;
            color: #3d2e27;
            margin-bottom: 10px;
        }

        .user-badge {
            display: inline-block;
            padding: 6px 16px;
            background: #8b5a3c;
            color: white;
            border-radius: 20px;
            font-size: 14px;
        }

        .info-card {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #8b7d74;
            font-weight: 500;
        }

        .info-value {
            color: #3d2e27;
            font-weight: 600;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #8b5a3c;
            color: white;
        }

        .btn-primary:hover {
            background: #6d4a31;
        }

        .btn-secondary {
            background: #f5f0eb;
            color: #8b5a3c;
        }

        .btn-secondary:hover {
            background: #e5ddd3;
        }

        .btn-danger {
            background: #d63031;
            color: white;
        }

        .btn-danger:hover {
            background: #b72c2c;
        }
    </style>
</head>
<body>
<!-- Header (기존 index.html의 header 재사용) -->
<header class="header">
    <div class="container">
        <div class="nav-wrapper">
            <div class="nav-left">
                <a th:href="@{/}" class="logo">Sweet Pickup</a>
            </div>
            <div class="nav-right">
                <a th:href="@{/users/logout}" class="btn-outline">로그아웃</a>
            </div>
        </div>
    </div>
</header>

<div class="mypage-container">
    <div class="mypage-header">
        <h1 class="mypage-title" th:text="${user.name} + '님'">홍길동님</h1>
        <span class="user-badge" th:text="${user.role == T(com.dpu.User.domain.Role).OWNER} ? '사장님' : '일반 회원'">일반 회원</span>
    </div>

    <!-- 회원 정보 -->
    <div class="info-card">
        <h2 style="margin-bottom: 20px; color: #3d2e27;">회원 정보</h2>

        <div class="info-row">
            <span class="info-label">이름</span>
            <span class="info-value" th:text="${user.name}">홍길동</span>
        </div>

        <div class="info-row">
            <span class="info-label">이메일</span>
            <span class="info-value" th:text="${user.email}">example@email.com</span>
        </div>

        <div class="info-row">
            <span class="info-label">회원 유형</span>
            <span class="info-value" th:text="${user.role == T(com.dpu.User.domain.Role).OWNER} ? '사장님' : '일반 회원'">일반 회원</span>
        </div>
    </div>

    <!-- 버튼 그룹 -->
    <div class="button-group">
        <button class="btn btn-primary" onclick="location.href='/users/edit'">회원정보 수정</button>
        <button class="btn btn-secondary" th:if="${user.role == T(com.dpu.User.domain.Role).USER}"
                onclick="location.href='/reservations/my'">내 예약 보기</button>
        <button class="btn btn-secondary" th:if="${user.role == T(com.dpu.User.domain.Role).OWNER}"
                onclick="location.href='/stores'">내 매장 관리</button>
    </div>

    <div class="button-group">
        <button class="btn btn-secondary" onclick="location.href='/'">홈으로</button>
        <form th:action="@{/users/delete}" method="post" style="flex: 1;"
              onsubmit="return confirm('정말 탈퇴하시겠습니까?');">
            <button type="submit" class="btn btn-danger" style="width: 100%;">회원탈퇴</button>
        </form>
    </div>
</div>
</body>
</html>
